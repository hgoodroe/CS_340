<head>
    <meta charset="utf-8" />
    <title>Project Step 3 Draft Version: Design HTML Interface + DML SQL (Group / On Ed Discussion ) </title>
    <link id="styleSheet" href="style.css" rel="stylesheet" type="text/css" />
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
</head>

<body>
    <header>
        <!-- <h1>Movies</h1> -->
    </header>
    <main>
        <section>
            <h2>Movie Inventory</h2>
            <table id="movieTable">
                {{!-- Header section --}}
                <thead>
                    <tr>
                        {{#each data.[0]}}
                        <th>
                            {{@key}}
                        </th>
                        {{/each}}
                        <th>Delete</th>
                    </tr>
                </thead>

                {{!-- Body section --}}
                <tbody>
                    {{!-- For each row, print each ID, movie name, age rating, release date, IMDB rating,
                    Rottent tomatoes rating, # of times rented, sub-genre --}}
                    {{#each data}}
                    <tr data-value="{{this.movie_ID}}">
                        <td>{{this.movie_ID}}</td>
                        <td>{{this.movie_name}}</td>
                        <td>{{this.age_rating}}</td>
                        <td>{{this.release_date}}</td>
                        <td>{{this.imdb_rating}}</td>
                        <td>{{this.rotten_rating}}</td>
                        <td>{{this.num_times_rented}}</td>
                        <td>{{this.sub_genre_ID}}</td>
                        <td><button onclick="deleteMovie({{this.movie_ID}})">Delete</button></td>
                    </tr>
                    {{/each}}
                </tbody>
                <table />
                <script src="./js sub folder/delete_movie.js"></script>
                <section />

                <h2>Adding A New Movie</h2>

                <p>Enter the information about the new movie and hit 'Submit'</p>
                <form id="add-movie-form" method="POST" action="/add-movie-form">
                    <label for="input-movie_name">Movie Name: </label>
                    <input type="text" name="input-movie_name" id="input-movie_name">
                    
                    <label for="input-age_rating" id="input-age_rating">Age Rating    
                        <select name="input-age_rating">
                        <option value="G">G</option>
                        <option value="PG">PG</option>
                        <option value="PG-13">PG-13</option>
                        <option value="R">R</option>
                        </select></label>

                    <label for="input-release_date" id="input-release_date">Release Date    
                    <input type="date" name="input_release_date"></label>

                    <label for="input-imdb" id="input-imdb">IMDB Rating    
                    <input type="number" step="0.1" name="input-imdb"></label>

                    <label for="input-rotten" id="input-rotten">Rotten Tomatoes Rating    
                    <input type="number" name="input-rotten"></label>

                    <label for="input-sub_genre" id="input-sub_genre">Sub-Genre    
                    <input type="number" name="input-sub_genre"></label>

                    <input type="submit">
                </form>

                <section>
                    <h2>Updating A Movie's Information</h2>
                    <p>To update a specific movie, click on the edit button and change the relevant info</p>
                    <form id="update-movie-form">

                        <label for="input-moviename">Movie name: </label>
                        <select name="input-moviename" id="mySelect">
                            <option value="test">Select a Movie</option>
                            {{#each data}}
                            <option value="{{this.id}}">{{this.movie_name}}</option>
                            {{/each}}
                        </select>

                        <label for="input-sub_genre">Sub-Genre: </label>
                        <select name="input-sub_genre" id="input-sub_genre-update">
                            <option>Select a Sub-Genre</option>
                            {{#each sub_genre}}
                            <option value="{{this.sub_genre_id}}">{{this.sub_genre}}</option>
                            {{/each}}
                        </select>
                        <input type="submit">
                    </form>
                </section>
                

        <script src="./js/update_movie.js"></script>
    </main>
</body>